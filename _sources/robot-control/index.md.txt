# ğŸ¤– ã‚»ãƒƒã‚·ãƒ§ãƒ³2: ãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°

## ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å­¦ã¶ã“ã¨

Pythonã¨scikit-robotãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã€ãƒ­ãƒœãƒƒãƒˆã®å‹•ãã‚’è‡ªåœ¨ã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹æ–¹æ³•ã‚’å­¦ã³ã¾ã™ã€‚æ•°å­¦çš„ãªæ¦‚å¿µã‚’è¦–è¦šçš„ã«ç†è§£ã—ãªãŒã‚‰ã€å®Ÿéš›ã«ãƒ­ãƒœãƒƒãƒˆã‚’å‹•ã‹ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼

### ğŸ¯ å­¦ç¿’ç›®æ¨™
- **scikit-robot**ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ã‚’ãƒã‚¹ã‚¿ãƒ¼
- **3Dãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼**ã§ãƒ­ãƒœãƒƒãƒˆã‚’å¯è¦–åŒ–
- **é †é‹å‹•å­¦**ã¨**é€†é‹å‹•å­¦**ã®æ¦‚å¿µã‚’ç†è§£
- **åº§æ¨™ç³»**ã¨**å¤‰æ›è¡Œåˆ—**ã®åŸºç¤
- å®Ÿéš›ã®ãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½œæˆ

---

## scikit-robotã¨ã¯ï¼Ÿ

**scikit-robot**ã¯ã€Pythonã§æ›¸ã‹ã‚ŒãŸãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚è¤‡é›‘ãªæ•°å­¦çš„è¨ˆç®—ã‚’ç°¡å˜ãªã‚³ãƒ¼ãƒ‰ã§å®Ÿç¾ã§ãã€ç¾ã—ã„3Då¯è¦–åŒ–æ©Ÿèƒ½ã‚‚å‚™ãˆã¦ã„ã¾ã™ã€‚

### ğŸŒŸ ãªãœscikit-robotã‚’ä½¿ã†ã®ï¼Ÿ

1. **è¦–è¦šçš„**: 3Dãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã§ãƒ­ãƒœãƒƒãƒˆã®å‹•ããŒè¦‹ãˆã‚‹
2. **å­¦ç¿’ã—ã‚„ã™ã„**: Pythonã®èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰
3. **æœ¬æ ¼çš„**: å®Ÿéš›ã®ç ”ç©¶ãƒ»ç”£æ¥­ã§ã‚‚ä½¿ç”¨ã•ã‚Œã‚‹æŠ€è¡“
4. **å®‰å…¨**: ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒã§å®Ÿé¨“å¯èƒ½

---

## ç’°å¢ƒæ§‹ç¯‰

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# scikit-robotã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install scikit-robot[all]

# å¿…è¦ãªä¾å­˜é–¢ä¿‚ï¼ˆUbuntu/Debianï¼‰
sudo apt-get install libspatialindex-dev freeglut3-dev libsuitesparse-dev

# å‹•ä½œç¢ºèª
python -c "import skrobot; print('scikit-robot installed successfully!')"
```

### åˆå›ãƒ†ã‚¹ãƒˆ

```python
#!/usr/bin/env python3
"""
æœ€åˆã®ãƒ­ãƒœãƒƒãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ 
ãƒ­ãƒœãƒƒãƒˆã‚’ç”»é¢ã«è¡¨ç¤ºã—ã¦ã¿ã‚ˆã†ï¼
"""
import skrobot

# ãƒ­ãƒœãƒƒãƒˆã‚’ä½œæˆ
robot = skrobot.models.Kuka()
print(f"ãƒ­ãƒœãƒƒãƒˆä½œæˆå®Œäº†: {robot}")

# ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã‚’ä½œæˆ
viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(800, 600))

# ãƒ­ãƒœãƒƒãƒˆã‚’ã‚·ãƒ¼ãƒ³ã«è¿½åŠ 
viewer.add(robot)

# è¡¨ç¤º
viewer.show()
print("ãƒ­ãƒœãƒƒãƒˆãŒè¡¨ç¤ºã•ã‚Œã¾ã—ãŸï¼ãƒã‚¦ã‚¹ã§å›è»¢ãƒ»ã‚ºãƒ¼ãƒ ã—ã¦ã¿ã¦ãã ã•ã„")

# ã—ã°ã‚‰ãå¾…æ©Ÿ
input("Enterã‚­ãƒ¼ã‚’æŠ¼ã™ã¨çµ‚äº†ã—ã¾ã™...")
```

---

## ãƒ­ãƒœãƒƒãƒˆãƒ¢ãƒ‡ãƒ«ã®åŸºç¤

### ğŸ¤– åˆ©ç”¨å¯èƒ½ãªãƒ­ãƒœãƒƒãƒˆ

```python
import skrobot

# å·¥æ¥­ç”¨ãƒ­ãƒœãƒƒãƒˆã‚¢ãƒ¼ãƒ 
kuka = skrobot.models.Kuka()

# ç ”ç©¶ç”¨ãƒ’ãƒ¥ãƒ¼ãƒãƒã‚¤ãƒ‰ãƒ­ãƒœãƒƒãƒˆ
pr2 = skrobot.models.PR2()

# ç§»å‹•å¼ãƒãƒ‹ãƒ”ãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼
fetch = skrobot.models.Fetch()

# ç²¾å¯†ãƒ­ãƒœãƒƒãƒˆã‚¢ãƒ¼ãƒ 
panda = skrobot.models.Panda()

print(f"Kukaã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆæ•°: {len(kuka.joint_list)}")
print(f"PR2ã®ãƒªãƒ³ã‚¯æ•°: {len(pr2.link_list)}")
```

### ğŸ” ãƒ­ãƒœãƒƒãƒˆã®æ§‹é€ ã‚’èª¿ã¹ã‚‹

```python
#!/usr/bin/env python3
"""
ãƒ­ãƒœãƒƒãƒˆã®æ§‹é€ æ¢ç´¢ãƒ—ãƒ­ã‚°ãƒ©ãƒ 
"""
import skrobot

robot = skrobot.models.Kuka()

print("=== ãƒ­ãƒœãƒƒãƒˆæƒ…å ± ===")
print(f"åå‰: {robot.name}")
print(f"ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆæ•°: {len(robot.joint_list)}")
print(f"ãƒªãƒ³ã‚¯æ•°: {len(robot.link_list)}")

print("\n=== ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆä¸€è¦§ ===")
for i, joint in enumerate(robot.joint_list):
    print(f"{i}: {joint.name} (ã‚¿ã‚¤ãƒ—: {type(joint).__name__})")

print("\n=== ãƒªãƒ³ã‚¯ä¸€è¦§ ===")
for i, link in enumerate(robot.link_list):
    print(f"{i}: {link.name}")

# ç¾åœ¨ã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã‚’è¡¨ç¤º
angles = robot.angle_vector()
print(f"\nç¾åœ¨ã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦: {angles}")
```

---

## 3Dãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã®ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªå¯è¦–åŒ–

```python
#!/usr/bin/env python3
"""
ç¾ã—ã„3Dã‚·ãƒ¼ãƒ³ã®ä½œæˆ
"""
import skrobot
import numpy as np

# ãƒ­ãƒœãƒƒãƒˆã‚’ä½œæˆ
robot = skrobot.models.Kuka()

# ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã‚’ä½œæˆ
viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(1024, 768))

# åº§æ¨™è»¸ã‚’è¿½åŠ ï¼ˆå‚è€ƒç”¨ï¼‰
axes = skrobot.model.Axis(axis_length=0.3, axis_radius=0.01)
viewer.add(axes)

# åœ°é¢ã‚’è¿½åŠ 
ground = skrobot.model.Box(
    extents=(2, 2, 0.02), 
    face_colors=(0.8, 0.8, 0.8, 0.5)  # åŠé€æ˜ã®ã‚°ãƒ¬ãƒ¼
)
ground.translate([0, 0, -0.01])  # å°‘ã—ä¸‹ã«é…ç½®
viewer.add(ground)

# ãƒ­ãƒœãƒƒãƒˆã‚’è¿½åŠ 
viewer.add(robot)

# ã‚«ãƒ¡ãƒ©ä½ç½®ã‚’è¨­å®š
viewer.set_camera(
    angles=[np.deg2rad(30), 0, np.deg2rad(45)], 
    distance=2.0
)

# è¡¨ç¤º
viewer.show()

# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªæ“ä½œ
print("=== ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼æ“ä½œæ–¹æ³• ===")
print("ãƒã‚¦ã‚¹å·¦ãƒ‰ãƒ©ãƒƒã‚°: å›è»¢")
print("ãƒã‚¦ã‚¹å³ãƒ‰ãƒ©ãƒƒã‚°: å¹³è¡Œç§»å‹•")
print("ãƒ›ã‚¤ãƒ¼ãƒ«: ã‚ºãƒ¼ãƒ ")
print("Escã‚­ãƒ¼: çµ‚äº†")

input("Enterã‚­ãƒ¼ã§ç¶šè¡Œ...")
```

### ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¿½åŠ 

```python
#!/usr/bin/env python3
"""
ãƒ­ãƒœãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä½œæˆ
"""
import skrobot
import numpy as np

robot = skrobot.models.Kuka()
viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(800, 600))

# ãƒ­ãƒœãƒƒãƒˆã‚’è¿½åŠ 
viewer.add(robot)

# ä½œæ¥­å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
target_box = skrobot.model.Box(
    extents=(0.1, 0.1, 0.1),
    face_colors=(1, 0, 0, 0.7)  # åŠé€æ˜ã®èµ¤
)
target_box.translate([0.5, 0.2, 0.3])  # ä½ç½®ã‚’è¨­å®š
viewer.add(target_box)

# çƒä½“ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
sphere = skrobot.model.Sphere(
    radius=0.05,
    face_colors=(0, 1, 0, 0.7)  # åŠé€æ˜ã®ç·‘
)
sphere.translate([0.3, -0.3, 0.4])
viewer.add(sphere)

# å††æŸ±ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
cylinder = skrobot.model.Cylinder(
    radius=0.03,
    height=0.2,
    face_colors=(0, 0, 1, 0.7)  # åŠé€æ˜ã®é’
)
cylinder.translate([0.6, 0, 0.1])
viewer.add(cylinder)

viewer.show()

print("ã‚«ãƒ©ãƒ•ãƒ«ãªãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãŒå®Œæˆã—ã¾ã—ãŸï¼")
input("Enterã‚­ãƒ¼ã§ç¶šè¡Œ...")
```

---

## é †é‹å‹•å­¦ï¼ˆForward Kinematicsï¼‰

**é †é‹å‹•å­¦**ã¯ã€ã€Œã‚¸ãƒ§ã‚¤ãƒ³ãƒˆã®è§’åº¦ãŒåˆ†ã‹ã£ã¦ã„ã‚‹ã¨ãã€ãƒ­ãƒœãƒƒãƒˆã®æ‰‹å…ˆãŒã©ã“ã«ã‚ã‚‹ã‹ã€ã‚’è¨ˆç®—ã™ã‚‹æŠ€è¡“ã§ã™ã€‚

### ğŸ”§ åŸºæœ¬çš„ãªé †é‹å‹•å­¦

```python
#!/usr/bin/env python3
"""
é †é‹å‹•å­¦ã®å®Ÿæ¼”
ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ â†’ æ‰‹å…ˆä½ç½®
"""
import skrobot
import numpy as np
import time

robot = skrobot.models.Kuka()
viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(800, 600))
viewer.add(robot)

# åº§æ¨™è»¸ã‚’è¿½åŠ 
axes = skrobot.model.Axis(axis_length=0.2)
viewer.add(axes)

viewer.show()

print("=== é †é‹å‹•å­¦ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ===")

# åˆæœŸå§¿å‹¢
robot.reset_manip_pose()
viewer.redraw()
print("åˆæœŸå§¿å‹¢")
input("Enterã‚­ãƒ¼ã§æ¬¡ã¸...")

# æ§˜ã€…ãªã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã‚’è©¦ã™
test_angles = [
    [0, 0, 0, 0, 0, 0, 0],                    # ã¾ã£ã™ã
    [np.pi/4, 0, 0, -np.pi/2, 0, 0, 0],      # è‚˜ã‚’æ›²ã’ã‚‹
    [0, np.pi/4, 0, -np.pi/2, 0, np.pi/4, 0], # è¤‡é›‘ãªãƒãƒ¼ã‚º
    [np.pi/6, -np.pi/6, np.pi/4, -np.pi/3, np.pi/4, np.pi/6, 0]  # ãƒ€ãƒ³ã‚¹ãƒãƒ¼ã‚º
]

pose_names = ["ã¾ã£ã™ããƒãƒ¼ã‚º", "è‚˜æ›²ã’ãƒãƒ¼ã‚º", "è¤‡é›‘ãƒãƒ¼ã‚º", "ãƒ€ãƒ³ã‚¹ãƒãƒ¼ã‚º"]

for i, angles in enumerate(test_angles):
    print(f"\n{pose_names[i]}:")
    print(f"ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦: {[f'{np.rad2deg(a):.1f}Â°' for a in angles]}")
    
    # ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã‚’è¨­å®š
    robot.angle_vector(angles)
    
    # æ‰‹å…ˆä½ç½®ã‚’å–å¾—
    end_pos = robot.end_coords.worldpos()
    print(f"æ‰‹å…ˆä½ç½®: x={end_pos[0]:.3f}, y={end_pos[1]:.3f}, z={end_pos[2]:.3f}")
    
    # ç”»é¢ã‚’æ›´æ–°
    viewer.redraw()
    input("Enterã‚­ãƒ¼ã§æ¬¡ã¸...")

print("\né †é‹å‹•å­¦ã®ãƒ‡ãƒ¢ãŒå®Œäº†ã—ã¾ã—ãŸï¼")
```

### ğŸ“Š è»Œè·¡ã®å¯è¦–åŒ–

```python
#!/usr/bin/env python3
"""
ãƒ­ãƒœãƒƒãƒˆã®å‹•ä½œè»Œè·¡ã‚’å¯è¦–åŒ–
"""
import skrobot
import numpy as np
import matplotlib.pyplot as plt

robot = skrobot.models.Kuka()

# å††é‹å‹•ã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã‚’ç”Ÿæˆ
def generate_circle_motion(robot, center, radius, num_points=50):
    """å††é‹å‹•ã®ãŸã‚ã®è§’åº¦åˆ—ã‚’ç”Ÿæˆ"""
    angles_list = []
    positions = []
    
    for i in range(num_points):
        theta = 2 * np.pi * i / num_points
        target_pos = center + np.array([
            radius * np.cos(theta),
            radius * np.sin(theta),
            0
        ])
        
        # ç›®æ¨™ä½ç½®ã«å¯¾ã™ã‚‹é€†é‹å‹•å­¦
        target_coords = skrobot.coordinates.Coordinates(target_pos)
        result = robot.inverse_kinematics(
            target_coords,
            move_target=robot.end_coords
        )
        
        if result:
            angles_list.append(robot.angle_vector().copy())
            positions.append(robot.end_coords.worldpos().copy())
    
    return angles_list, positions

# å††é‹å‹•ã‚’ç”Ÿæˆ
center = np.array([0.5, 0, 0.5])
radius = 0.2
angles_list, positions = generate_circle_motion(robot, center, radius)

print(f"è»Œè·¡ç‚¹æ•°: {len(positions)}")

# è»Œè·¡ã‚’ãƒ—ãƒ­ãƒƒãƒˆ
if positions:
    positions = np.array(positions)
    
    fig = plt.figure(figsize=(10, 8))
    
    # 3Dè»Œè·¡
    ax1 = fig.add_subplot(221, projection='3d')
    ax1.plot(positions[:, 0], positions[:, 1], positions[:, 2], 'b-', linewidth=2)
    ax1.scatter(positions[0, 0], positions[0, 1], positions[0, 2], c='g', s=100, label='é–‹å§‹ç‚¹')
    ax1.scatter(positions[-1, 0], positions[-1, 1], positions[-1, 2], c='r', s=100, label='çµ‚äº†ç‚¹')
    ax1.set_xlabel('X [m]')
    ax1.set_ylabel('Y [m]')
    ax1.set_zlabel('Z [m]')
    ax1.set_title('3Dè»Œè·¡')
    ax1.legend()
    
    # XYå¹³é¢æŠ•å½±
    ax2 = fig.add_subplot(222)
    ax2.plot(positions[:, 0], positions[:, 1], 'b-', linewidth=2)
    ax2.scatter(positions[0, 0], positions[0, 1], c='g', s=100)
    ax2.scatter(positions[-1, 0], positions[-1, 1], c='r', s=100)
    ax2.set_xlabel('X [m]')
    ax2.set_ylabel('Y [m]')
    ax2.set_title('XYå¹³é¢æŠ•å½±')
    ax2.grid(True)
    ax2.axis('equal')
    
    # ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã®å¤‰åŒ–
    if angles_list:
        angles_array = np.array(angles_list)
        ax3 = fig.add_subplot(223)
        for i in range(min(4, angles_array.shape[1])):  # æœ€åˆã®4é–¢ç¯€
            ax3.plot(np.rad2deg(angles_array[:, i]), label=f'Joint {i+1}')
        ax3.set_xlabel('Time Step')
        ax3.set_ylabel('Joint Angle [deg]')
        ax3.set_title('ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã®å¤‰åŒ–')
        ax3.legend()
        ax3.grid(True)
    
    # é€Ÿåº¦ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
    ax4 = fig.add_subplot(224)
    velocities = np.diff(positions, axis=0)
    speeds = np.linalg.norm(velocities, axis=1)
    ax4.plot(speeds, 'r-', linewidth=2)
    ax4.set_xlabel('Time Step')
    ax4.set_ylabel('Speed [m/step]')
    ax4.set_title('æ‰‹å…ˆé€Ÿåº¦')
    ax4.grid(True)
    
    plt.tight_layout()
    plt.show()

print("è»Œè·¡è§£æãŒå®Œäº†ã—ã¾ã—ãŸï¼")
```

---

## é€†é‹å‹•å­¦ï¼ˆInverse Kinematicsï¼‰

**é€†é‹å‹•å­¦**ã¯ã€ã€Œãƒ­ãƒœãƒƒãƒˆã®æ‰‹å…ˆã‚’ã“ã“ã«å‹•ã‹ã—ãŸã„ã€ã¨ã„ã†ã¨ãã€ã€Œã©ã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã«ã™ã‚Œã°ã‚ˆã„ã‹ã€ã‚’è¨ˆç®—ã™ã‚‹æŠ€è¡“ã§ã™ã€‚

### ğŸ¯ åŸºæœ¬çš„ãªé€†é‹å‹•å­¦

```python
#!/usr/bin/env python3
"""
é€†é‹å‹•å­¦ã®å®Ÿæ¼”
ç›®æ¨™ä½ç½® â†’ ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦
"""
import skrobot
import numpy as np

robot = skrobot.models.Kuka()
viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(800, 600))

# ãƒ­ãƒœãƒƒãƒˆã‚’è¡¨ç¤º
viewer.add(robot)

# åº§æ¨™è»¸ã‚’è¿½åŠ 
axes = skrobot.model.Axis(axis_length=0.3)
viewer.add(axes)

viewer.show()

print("=== é€†é‹å‹•å­¦ãƒ‡ãƒ¢ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ ===")

# ç›®æ¨™ä½ç½®ã‚’å®šç¾©
targets = [
    [0.5, 0.3, 0.5],   # å³å‰
    [0.3, -0.4, 0.6],  # å·¦å‰ä¸Š
    [0.6, 0.0, 0.3],   # å‰ä¸‹
    [0.4, 0.2, 0.7],   # å³å‰ä¸Š
]

target_names = ["å³å‰", "å·¦å‰ä¸Š", "å‰ä¸‹", "å³å‰ä¸Š"]

for i, target_pos in enumerate(targets):
    print(f"\n=== ç›®æ¨™ {i+1}: {target_names[i]} ===")
    print(f"ç›®æ¨™ä½ç½®: x={target_pos[0]}, y={target_pos[1]}, z={target_pos[2]}")
    
    # ç›®æ¨™ä½ç½®ã‚’å¯è¦–åŒ–
    if i > 0:  # å‰ã®ç›®æ¨™ã‚’å‰Šé™¤
        viewer.delete(target_sphere)
    
    target_sphere = skrobot.model.Sphere(
        radius=0.03,
        face_colors=(1, 0, 0, 0.8)
    )
    target_sphere.translate(target_pos)
    viewer.add(target_sphere)
    
    # ç›®æ¨™åº§æ¨™ã‚’ä½œæˆ
    target_coords = skrobot.coordinates.Coordinates(target_pos)
    
    # é€†é‹å‹•å­¦ã‚’å®Ÿè¡Œ
    print("é€†é‹å‹•å­¦ã‚’è¨ˆç®—ä¸­...")
    result = robot.inverse_kinematics(
        target_coords,
        move_target=robot.end_coords,
        rotation_axis=True
    )
    
    if result:
        print("âœ… é€†é‹å‹•å­¦æˆåŠŸï¼")
        
        # çµæœã®ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã‚’è¡¨ç¤º
        angles = robot.angle_vector()
        print(f"è§£ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦: {[f'{np.rad2deg(a):.1f}Â°' for a in angles]}")
        
        # å®Ÿéš›ã®æ‰‹å…ˆä½ç½®ã‚’ç¢ºèª
        actual_pos = robot.end_coords.worldpos()
        error = np.linalg.norm(np.array(target_pos) - actual_pos)
        print(f"å®Ÿéš›ã®æ‰‹å…ˆä½ç½®: x={actual_pos[0]:.3f}, y={actual_pos[1]:.3f}, z={actual_pos[2]:.3f}")
        print(f"ä½ç½®èª¤å·®: {error:.4f} m")
        
    else:
        print("âŒ é€†é‹å‹•å­¦å¤±æ•— - åˆ°é”ä¸å¯èƒ½ãªä½ç½®ã§ã™")
    
    # ç”»é¢ã‚’æ›´æ–°
    viewer.redraw()
    input("Enterã‚­ãƒ¼ã§æ¬¡ã¸...")

print("\né€†é‹å‹•å­¦ã®ãƒ‡ãƒ¢ãŒå®Œäº†ã—ã¾ã—ãŸï¼")
```

### ğŸ”„ å‹•çš„ãªé€†é‹å‹•å­¦

```python
#!/usr/bin/env python3
"""
ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€†é‹å‹•å­¦
ãƒã‚¦ã‚¹ã§ç›®æ¨™ä½ç½®ã‚’å‹•ã‹ã—ã¦ã¿ã‚ˆã†ï¼
"""
import skrobot
import numpy as np
import time

robot = skrobot.models.Kuka()
viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(800, 600))
viewer.add(robot)

# ç›®æ¨™çƒã‚’ä½œæˆ
target = skrobot.model.Sphere(radius=0.05, face_colors=(1, 0, 0, 0.8))
viewer.add(target)

viewer.show()

print("=== ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€†é‹å‹•å­¦ ===")
print("ç›®æ¨™ã‚’æ§˜ã€…ãªä½ç½®ã«å‹•ã‹ã—ã¦ã€ãƒ­ãƒœãƒƒãƒˆã®è¿½å¾“ã‚’è¦³å¯Ÿã—ã¾ã—ã‚‡ã†")

# å††è»Œé“ã§ç›®æ¨™ã‚’å‹•ã‹ã™
center = np.array([0.5, 0, 0.5])
radius = 0.3
duration = 10  # ç§’
steps = 200

for i in range(steps):
    # ç¾åœ¨æ™‚åˆ»ã§ã®ç›®æ¨™ä½ç½®ã‚’è¨ˆç®—
    t = i / steps * 2 * np.pi
    target_pos = center + radius * np.array([
        np.cos(t),
        np.sin(t * 0.7),  # Yè»¸ã¯å°‘ã—é•ã†å‘¨æ³¢æ•°
        0.3 * np.sin(t * 1.3)  # Zè»¸ã¯ã•ã‚‰ã«é•ã†å‘¨æ³¢æ•°
    ])
    
    # ç›®æ¨™çƒã‚’ç§»å‹•
    target.newcoords(skrobot.coordinates.Coordinates(target_pos))
    
    # é€†é‹å‹•å­¦ã§ãƒ­ãƒœãƒƒãƒˆã‚’è¿½å¾“ã•ã›ã‚‹
    target_coords = skrobot.coordinates.Coordinates(target_pos)
    result = robot.inverse_kinematics(
        target_coords,
        move_target=robot.end_coords,
        rotation_axis=True
    )
    
    # ç”»é¢ã‚’æ›´æ–°
    viewer.redraw()
    
    # å°‘ã—å¾…æ©Ÿ
    time.sleep(0.05)
    
    # é€²æ—è¡¨ç¤º
    if i % 20 == 0:
        print(f"é€²æ—: {i/steps*100:.1f}%")

print("ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€†é‹å‹•å­¦ã®ãƒ‡ãƒ¢ãŒå®Œäº†ã—ã¾ã—ãŸï¼")
```

---

## åº§æ¨™ç³»ã¨å¤‰æ›

### ğŸŒ åº§æ¨™ç³»ã®ç†è§£

```python
#!/usr/bin/env python3
"""
åº§æ¨™ç³»ã¨å¤‰æ›ã®å¯è¦–åŒ–
"""
import skrobot
import numpy as np

viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(900, 700))

# ãƒ¯ãƒ¼ãƒ«ãƒ‰åº§æ¨™ç³»
world_axes = skrobot.model.Axis(axis_length=0.5, axis_radius=0.02)
viewer.add(world_axes)

# è¤‡æ•°ã®åº§æ¨™ç³»ã‚’ä½œæˆ
coords_list = []
colors = [(1, 0, 0), (0, 1, 0), (0, 0, 1), (1, 1, 0), (1, 0, 1)]

for i in range(5):
    # æ–°ã—ã„åº§æ¨™ç³»ã‚’ä½œæˆ
    coords = skrobot.coordinates.Coordinates()
    
    # ä½ç½®ã‚’è¨­å®š
    position = [
        0.5 * np.cos(2 * np.pi * i / 5),
        0.5 * np.sin(2 * np.pi * i / 5),
        0.2 * i
    ]
    coords.translate(position)
    
    # å›è»¢ã‚’è¨­å®š
    coords.rotate(np.pi / 4 * i, 'z')
    coords.rotate(np.pi / 6, 'x')
    
    # åº§æ¨™è»¸ã‚’å¯è¦–åŒ–
    axes = skrobot.model.Axis(axis_length=0.2, axis_radius=0.01)
    axes.newcoords(coords)
    viewer.add(axes)
    
    # åŸç‚¹ã«ãƒãƒ¼ã‚«ãƒ¼ã‚’è¿½åŠ 
    marker = skrobot.model.Sphere(radius=0.03, face_colors=colors[i % len(colors)])
    marker.translate(position)
    viewer.add(marker)
    
    coords_list.append(coords)

viewer.show()

print("=== åº§æ¨™ç³»ã¨å¤‰æ› ===")
print("è¤‡æ•°ã®åº§æ¨™ç³»ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™")
print("è‰²ä»˜ãã®çƒãŒå„åº§æ¨™ç³»ã®åŸç‚¹ã‚’ç¤ºã—ã¦ã„ã¾ã™")

# åº§æ¨™å¤‰æ›ã®è¨ˆç®—ä¾‹
print("\n=== åº§æ¨™å¤‰æ›ã®è¨ˆç®— ===")
for i, coords in enumerate(coords_list):
    print(f"\nåº§æ¨™ç³» {i+1}:")
    print(f"  ä½ç½®: {coords.worldpos()}")
    print(f"  å›è»¢è¡Œåˆ—:\n{coords.worldrot()}")
    
    # ãƒ­ãƒ¼ã‚«ãƒ«åº§æ¨™ã§ã®ç‚¹ã‚’ãƒ¯ãƒ¼ãƒ«ãƒ‰åº§æ¨™ã«å¤‰æ›
    local_point = np.array([0.1, 0.1, 0.1])
    world_point = coords.transform_vector(local_point)
    print(f"  ãƒ­ãƒ¼ã‚«ãƒ«ç‚¹ {local_point} â†’ ãƒ¯ãƒ¼ãƒ«ãƒ‰ç‚¹ {world_point}")

input("Enterã‚­ãƒ¼ã§çµ‚äº†...")
```

### ğŸ”„ å‹•çš„ãªå¤‰æ›

```python
#!/usr/bin/env python3
"""
å‹•çš„åº§æ¨™å¤‰æ›ã®å¯è¦–åŒ–
"""
import skrobot
import numpy as np
import time

viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(800, 600))

# åŸºæº–åº§æ¨™ç³»
base_axes = skrobot.model.Axis(axis_length=0.3, axis_radius=0.02)
viewer.add(base_axes)

# å‹•ãåº§æ¨™ç³»
moving_coords = skrobot.coordinates.Coordinates()
moving_axes = skrobot.model.Axis(axis_length=0.2, axis_radius=0.015)
viewer.add(moving_axes)

# è»Œè·¡ã‚’è¨˜éŒ²ã™ã‚‹ãŸã‚ã®ç‚¹ç¾¤
trail_points = []
max_trail_points = 50

viewer.show()

print("=== å‹•çš„åº§æ¨™å¤‰æ› ===")
print("åº§æ¨™ç³»ãŒå‹•ããªãŒã‚‰å¤‰æ›ã‚’å¯è¦–åŒ–ã—ã¾ã™")

for i in range(200):
    t = i * 0.05
    
    # è¤‡é›‘ãªè»Œé“ã‚’è¨ˆç®—
    x = 0.5 * np.cos(t)
    y = 0.5 * np.sin(t * 1.3)
    z = 0.3 + 0.2 * np.sin(t * 0.7)
    
    # åº§æ¨™ç³»ã‚’æ›´æ–°
    moving_coords.newcoords(skrobot.coordinates.Coordinates([x, y, z]))
    moving_coords.rotate(t * 0.1, 'z')
    moving_coords.rotate(t * 0.05, 'x')
    
    # è»Œè·¡ç‚¹ã‚’è¿½åŠ 
    trail_points.append([x, y, z])
    if len(trail_points) > max_trail_points:
        trail_points.pop(0)
    
    # è»Œè·¡ã‚’å¯è¦–åŒ–
    for j, point in enumerate(trail_points):
        alpha = j / len(trail_points)  # é€æ˜åº¦ã‚’èª¿æ•´
        trail_sphere = skrobot.model.Sphere(
            radius=0.01, 
            face_colors=(0, 1, 1, alpha)
        )
        trail_sphere.translate(point)
        # æ³¨æ„: å®Ÿéš›ã®å®Ÿè£…ã§ã¯åŠ¹ç‡ã®ãŸã‚è»Œè·¡ã®æç”»æ–¹æ³•ã‚’æœ€é©åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
    
    # åº§æ¨™è»¸ã®ä½ç½®ã‚’æ›´æ–°
    moving_axes.newcoords(moving_coords)
    
    # ãƒ­ãƒ¼ã‚«ãƒ«åº§æ¨™ã§ã®å›ºå®šç‚¹ã‚’ãƒ¯ãƒ¼ãƒ«ãƒ‰åº§æ¨™ã«å¤‰æ›
    local_points = [
        [0.1, 0, 0],    # Xè»¸æ–¹å‘
        [0, 0.1, 0],    # Yè»¸æ–¹å‘
        [0, 0, 0.1]     # Zè»¸æ–¹å‘
    ]
    
    colors = [(1, 0, 0), (0, 1, 0), (0, 0, 1)]
    
    for local_point, color in zip(local_points, colors):
        world_point = moving_coords.transform_vector(local_point)
        point_sphere = skrobot.model.Sphere(radius=0.02, face_colors=color)
        point_sphere.translate(world_point)
        # æ³¨æ„: å®Ÿéš›ã®å®Ÿè£…ã§ã¯ç‚¹ã®ç®¡ç†ã‚’æœ€é©åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™
    
    # ç”»é¢ã‚’æ›´æ–°
    viewer.redraw()
    time.sleep(0.05)
    
    if i % 40 == 0:
        print(f"é€²æ—: {i/200*100:.1f}%")

print("å‹•çš„åº§æ¨™å¤‰æ›ã®ãƒ‡ãƒ¢ãŒå®Œäº†ã—ã¾ã—ãŸï¼")
```

---

## ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰åˆ¶å¾¡ãƒ—ãƒ­ã‚°ãƒ©ãƒ 

### âŒ¨ï¸ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åˆ¶å¾¡

```python
#!/usr/bin/env python3
"""
ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ãƒ­ãƒœãƒƒãƒˆã‚’åˆ¶å¾¡
å…ƒã®keyboard-ik-sample.lã‚’Pythonã§å†å®Ÿè£…
"""
import skrobot
import numpy as np
import threading
import time
import sys
import select
import termios
import tty

class KeyboardRobotController:
    def __init__(self):
        self.robot = skrobot.models.Kuka()
        self.viewer = skrobot.viewers.TrimeshSceneViewer(resolution=(800, 600))
        
        # ãƒ­ãƒœãƒƒãƒˆã‚’è¡¨ç¤º
        self.viewer.add(self.robot)
        
        # åº§æ¨™è»¸ã‚’è¿½åŠ 
        axes = skrobot.model.Axis(axis_length=0.3)
        self.viewer.add(axes)
        
        # ç›®æ¨™ä½ç½®ã‚’è¡¨ç¤ºã™ã‚‹çƒ
        self.target_sphere = skrobot.model.Sphere(
            radius=0.03, 
            face_colors=(1, 0, 0, 0.7)
        )
        self.viewer.add(self.target_sphere)
        
        # åˆ¶å¾¡ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
        self.step_size = 0.05  # 1å›ã®ç§»å‹•é‡ [m]
        self.angle_step = np.deg2rad(10)  # 1å›ã®å›è»¢é‡ [rad]
        
        # ç¾åœ¨ã®ç›®æ¨™ä½ç½®
        self.target_pos = np.array([0.5, 0, 0.5])
        self.target_rot = np.eye(3)
        
        # åˆæœŸè¨­å®š
        self.update_target()
        self.robot.reset_manip_pose()
        
        self.viewer.show()
        
        # ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è¨­å®š
        self.old_settings = termios.tcgetattr(sys.stdin)
        tty.setraw(sys.stdin.fileno())
        
        self.running = True
    
    def update_target(self):
        """ç›®æ¨™ä½ç½®ã®è¡¨ç¤ºã‚’æ›´æ–°"""
        self.target_sphere.newcoords(
            skrobot.coordinates.Coordinates(self.target_pos, self.target_rot)
        )
        self.viewer.redraw()
    
    def move_to_target(self):
        """ç›®æ¨™ä½ç½®ã«é€†é‹å‹•å­¦ã§ç§»å‹•"""
        target_coords = skrobot.coordinates.Coordinates(self.target_pos, self.target_rot)
        
        result = self.robot.inverse_kinematics(
            target_coords,
            move_target=self.robot.end_coords,
            rotation_axis=True
        )
        
        if result:
            current_pos = self.robot.end_coords.worldpos()
            error = np.linalg.norm(self.target_pos - current_pos)
            print(f"ç§»å‹•å®Œäº† - èª¤å·®: {error:.4f}m")
        else:
            print("âš ï¸  åˆ°é”ä¸å¯èƒ½ãªä½ç½®ã§ã™")
        
        self.viewer.redraw()
    
    def get_key(self):
        """ãƒãƒ³ãƒ–ãƒ­ãƒƒã‚­ãƒ³ã‚°ã§ã‚­ãƒ¼å…¥åŠ›ã‚’å–å¾—"""
        if select.select([sys.stdin], [], [], 0) == ([sys.stdin], [], []):
            return sys.stdin.read(1)
        return None
    
    def print_help(self):
        """æ“ä½œæ–¹æ³•ã‚’è¡¨ç¤º"""
        print("\n" + "="*50)
        print("ğŸ¤– ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡")
        print("="*50)
        print("ç§»å‹•æ“ä½œ:")
        print("  w/s : Xè»¸æ–¹å‘ å‰é€²/å¾Œé€€")
        print("  a/d : Yè»¸æ–¹å‘ å·¦/å³")
        print("  q/e : Zè»¸æ–¹å‘ ä¸Šæ˜‡/ä¸‹é™")
        print("\nå›è»¢æ“ä½œ:")
        print("  i/k : Xè»¸å‘¨ã‚Šã®å›è»¢")
        print("  j/l : Yè»¸å‘¨ã‚Šã®å›è»¢")
        print("  u/o : Zè»¸å‘¨ã‚Šã®å›è»¢")
        print("\nãã®ä»–:")
        print("  r   : åˆæœŸå§¿å‹¢ã«ãƒªã‚»ãƒƒãƒˆ")
        print("  h   : ãƒ˜ãƒ«ãƒ—è¡¨ç¤º")
        print("  ESC : çµ‚äº†")
        print("="*50)
    
    def run(self):
        """ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ãƒ—"""
        self.print_help()
        
        try:
            while self.running:
                key = self.get_key()
                
                if key:
                    moved = False
                    
                    # ç§»å‹•ã‚³ãƒãƒ³ãƒ‰
                    if key == 'w':  # å‰é€²
                        self.target_pos[0] += self.step_size
                        moved = True
                        print("â†’ å‰é€²")
                    elif key == 's':  # å¾Œé€€
                        self.target_pos[0] -= self.step_size
                        moved = True
                        print("â† å¾Œé€€")
                    elif key == 'a':  # å·¦
                        self.target_pos[1] += self.step_size
                        moved = True
                        print("â† å·¦ç§»å‹•")
                    elif key == 'd':  # å³
                        self.target_pos[1] -= self.step_size
                        moved = True
                        print("â†’ å³ç§»å‹•")
                    elif key == 'q':  # ä¸Šæ˜‡
                        self.target_pos[2] += self.step_size
                        moved = True
                        print("â†‘ ä¸Šæ˜‡")
                    elif key == 'e':  # ä¸‹é™
                        self.target_pos[2] -= self.step_size
                        moved = True
                        print("â†“ ä¸‹é™")
                    
                    # å›è»¢ã‚³ãƒãƒ³ãƒ‰
                    elif key == 'i':  # Xè»¸+å›è»¢
                        rot_mat = skrobot.coordinates.rotation_matrix(self.angle_step, 'x')
                        self.target_rot = self.target_rot.dot(rot_mat)
                        moved = True
                        print("ğŸ”„ Xè»¸+å›è»¢")
                    elif key == 'k':  # Xè»¸-å›è»¢
                        rot_mat = skrobot.coordinates.rotation_matrix(-self.angle_step, 'x')
                        self.target_rot = self.target_rot.dot(rot_mat)
                        moved = True
                        print("ğŸ”„ Xè»¸-å›è»¢")
                    elif key == 'j':  # Yè»¸+å›è»¢
                        rot_mat = skrobot.coordinates.rotation_matrix(self.angle_step, 'y')
                        self.target_rot = self.target_rot.dot(rot_mat)
                        moved = True
                        print("ğŸ”„ Yè»¸+å›è»¢")
                    elif key == 'l':  # Yè»¸-å›è»¢
                        rot_mat = skrobot.coordinates.rotation_matrix(-self.angle_step, 'y')
                        self.target_rot = self.target_rot.dot(rot_mat)
                        moved = True
                        print("ğŸ”„ Yè»¸-å›è»¢")
                    elif key == 'u':  # Zè»¸+å›è»¢
                        rot_mat = skrobot.coordinates.rotation_matrix(self.angle_step, 'z')
                        self.target_rot = self.target_rot.dot(rot_mat)
                        moved = True
                        print("ğŸ”„ Zè»¸+å›è»¢")
                    elif key == 'o':  # Zè»¸-å›è»¢
                        rot_mat = skrobot.coordinates.rotation_matrix(-self.angle_step, 'z')
                        self.target_rot = self.target_rot.dot(rot_mat)
                        moved = True
                        print("ğŸ”„ Zè»¸-å›è»¢")
                    
                    # ãã®ä»–ã®ã‚³ãƒãƒ³ãƒ‰
                    elif key == 'r':  # ãƒªã‚»ãƒƒãƒˆ
                        self.robot.reset_manip_pose()
                        self.target_pos = self.robot.end_coords.worldpos().copy()
                        self.target_rot = self.robot.end_coords.worldrot().copy()
                        self.update_target()
                        print("ğŸ”„ åˆæœŸå§¿å‹¢ã«ãƒªã‚»ãƒƒãƒˆ")
                    elif key == 'h':  # ãƒ˜ãƒ«ãƒ—
                        self.print_help()
                    elif key == '\x1b':  # ESC
                        print("\nğŸ‘‹ çµ‚äº†ã—ã¾ã™")
                        self.running = False
                        break
                    
                    # ç§»å‹•ãŒã‚ã£ãŸå ´åˆã¯å®Ÿè¡Œ
                    if moved:
                        self.update_target()
                        self.move_to_target()
                        
                        # ç¾åœ¨ä½ç½®ã‚’è¡¨ç¤º
                        pos = self.target_pos
                        print(f"ç›®æ¨™ä½ç½®: x={pos[0]:.3f}, y={pos[1]:.3f}, z={pos[2]:.3f}")
                
                time.sleep(0.01)  # CPUè² è·è»½æ¸›
                
        finally:
            # ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰è¨­å®šã‚’å¾©å…ƒ
            termios.tcsetattr(sys.stdin, termios.TCSADRAIN, self.old_settings)

if __name__ == "__main__":
    print("ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡ã‚’é–‹å§‹ã—ã¾ã™...")
    controller = KeyboardRobotController()
    controller.run()
```

---

## ğŸ® æ¼”ç¿’èª²é¡Œ

### èª²é¡Œ1: åŸºæœ¬çš„ãªãƒ­ãƒœãƒƒãƒˆæ“ä½œ

```python
#!/usr/bin/env python3
"""
èª²é¡Œ1: ãƒ­ãƒœãƒƒãƒˆã«æ§˜ã€…ãªãƒãƒ¼ã‚ºã‚’ã¨ã‚‰ã›ã‚ˆã†
"""
import skrobot
import numpy as np

robot = skrobot.models.Kuka()
viewer = skrobot.viewers.TrimeshSceneViewer()
viewer.add(robot)
viewer.show()

# TODO: ä»¥ä¸‹ã®èª²é¡Œã‚’å®Ÿè£…ã—ã¦ãã ã•ã„

# 1. ãƒ­ãƒœãƒƒãƒˆã‚’åˆæœŸå§¿å‹¢ã«ã™ã‚‹

# 2. 3ã¤ã®ç•°ãªã‚‹ãƒãƒ¼ã‚ºã‚’ä½œæˆã—ã€5ç§’é–“éš”ã§å®Ÿè¡Œ

# 3. å„ãƒãƒ¼ã‚ºã§æ‰‹å…ˆä½ç½®ã¨å„ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã‚’è¡¨ç¤º

# 4. æœ€å¾Œã«åˆæœŸå§¿å‹¢ã«æˆ»ã‚‹

print("èª²é¡Œ1ã‚’å®Œæˆã•ã›ã¦ãã ã•ã„ï¼")
```

### èª²é¡Œ2: è»Œè·¡ç”Ÿæˆ

```python
#!/usr/bin/env python3
"""
èª²é¡Œ2: ãƒ­ãƒœãƒƒãƒˆã«å›³å½¢ã‚’æã‹ã›ã‚ˆã†
"""
import skrobot
import numpy as np

robot = skrobot.models.Kuka()
viewer = skrobot.viewers.TrimeshSceneViewer()
viewer.add(robot)
viewer.show()

# TODO: ä»¥ä¸‹ã®èª²é¡Œã‚’å®Ÿè£…ã—ã¦ãã ã•ã„

# 1. æ­£æ–¹å½¢ã®è»Œè·¡ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’ä½œæˆ

# 2. ä¸‰è§’å½¢ã®è»Œè·¡ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’ä½œæˆ

# 3. æ˜Ÿå½¢ï¼ˆäº”èŠ’æ˜Ÿï¼‰ã®è»Œè·¡ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã‚’ä½œæˆ

# 4. å„å›³å½¢ã‚’ãƒ­ãƒœãƒƒãƒˆã«å®Ÿè¡Œã•ã›ã‚‹

# 5. è»Œè·¡ã‚’matplotlibã§å¯è¦–åŒ–

print("èª²é¡Œ2ã‚’å®Œæˆã•ã›ã¦ãã ã•ã„ï¼")
```

### èª²é¡Œ3: éšœå®³ç‰©å›é¿

```python
#!/usr/bin/env python3
"""
èª²é¡Œ3: éšœå®³ç‰©ã‚’é¿ã‘ãªãŒã‚‰ç›®æ¨™ã«åˆ°é”ã—ã‚ˆã†
"""
import skrobot
import numpy as np

robot = skrobot.models.Kuka()
viewer = skrobot.viewers.TrimeshSceneViewer()
viewer.add(robot)

# éšœå®³ç‰©ã‚’é…ç½®
obstacle = skrobot.model.Box(extents=(0.2, 0.2, 0.4))
obstacle.translate([0.4, 0, 0.2])
viewer.add(obstacle)

viewer.show()

# TODO: ä»¥ä¸‹ã®èª²é¡Œã‚’å®Ÿè£…ã—ã¦ãã ã•ã„

# 1. é–‹å§‹ä½ç½®ã¨ç›®æ¨™ä½ç½®ã‚’è¨­å®š

# 2. éšœå®³ç‰©ã¨ã®è¡çªåˆ¤å®šé–¢æ•°ã‚’ä½œæˆ

# 3. éšœå®³ç‰©ã‚’é¿ã‘ã‚‹ãƒ‘ã‚¹ãƒ—ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°

# 4. ç”Ÿæˆã—ãŸãƒ‘ã‚¹ã‚’ãƒ­ãƒœãƒƒãƒˆã«å®Ÿè¡Œã•ã›ã‚‹

print("èª²é¡Œ3ã‚’å®Œæˆã•ã›ã¦ãã ã•ã„ï¼")
```

---

## ğŸ“ ã¾ã¨ã‚

ã“ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§ã¯ã€scikit-robotã‚’ä½¿ã£ãŸãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡ã®åŸºç¤ã‚’å­¦ã³ã¾ã—ãŸï¼š

### ğŸ¯ ç¿’å¾—ã—ãŸã‚¹ã‚­ãƒ«
- âœ… **ãƒ­ãƒœãƒƒãƒˆãƒ¢ãƒ‡ãƒ«ã®æ“ä½œ**: èª­ã¿è¾¼ã¿ã€è¡¨ç¤ºã€åŸºæœ¬æ“ä½œ
- âœ… **3Då¯è¦–åŒ–**: ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã®ä½¿ç”¨ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®è¿½åŠ 
- âœ… **é †é‹å‹•å­¦**: ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã‹ã‚‰æ‰‹å…ˆä½ç½®ã®è¨ˆç®—
- âœ… **é€†é‹å‹•å­¦**: ç›®æ¨™ä½ç½®ã‹ã‚‰ã‚¸ãƒ§ã‚¤ãƒ³ãƒˆè§’åº¦ã®è¨ˆç®—
- âœ… **åº§æ¨™å¤‰æ›**: 3Dç©ºé–“ã§ã®ä½ç½®ãƒ»å§¿å‹¢ã®è¡¨ç¾
- âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åˆ¶å¾¡**: ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã®å¯¾è©±çš„æ“ä½œ

### ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

ãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡ã®åŸºç¤ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ãŸã‚‰ï¼š
1. **[ğŸŒ ROSã¨ã®é€£æº](../ros-basics/index.md)** - å®Ÿéš›ã®ãƒ­ãƒœãƒƒãƒˆã¨ã®é€šä¿¡
2. **[ğŸ¯ æœ€çµ‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ](../projects/index.md)** - ç·åˆçš„ãªãƒ­ãƒœãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ 
3. **é«˜åº¦ãªåˆ¶å¾¡æŠ€è¡“** - å‹•åŠ›å­¦ã€åˆ¶å¾¡ç†è«–ã®å¿œç”¨

ã“ã‚Œã§å›ã‚‚ãƒ­ãƒœãƒƒãƒˆåˆ¶å¾¡ã®å°‚é–€å®¶ã ï¼ç§‘å­¦æŠ€è¡“ã®åŠ›ã§ã€ãƒ­ãƒœãƒƒãƒˆã«ç”Ÿå‘½ã‚’å¹ãè¾¼ã‚‚ã†ï¼